/*
 * Copyright (C) 2015 backslash - artists of new media (info@backslash.ch)
 * 
 * This work is licensed under the Creative Commons
 * Attribution 3.0 Unported License. To view a copy
 * of this license, visit
 * http://creativecommons.org/licenses/by/3.0/.
 *  
 * When using this software you use it at your own risk. We hold
 * no responsibility for any damage caused by using this plugin
 * or the documentation provided.
 *
 * Version 1.0.2
 * File generated by shrinker.ch - DateTime: 2015-03-13, 07:52:43
*/
var faSpinner={defaults:{fontawesome_required:true,fontawesome_url:"//cdn-backslash.ch/lib/font-awesome/4.3/css/font-awesome.min.css",btn_text:'<i class="fa fa-spinner fa-pulse"></i> ',btn_replacestyle:"prepend",btn_selector:"button[type=submit]",delay:400,timeout:100,ajax_listener:false,use_attribute_definition:false,use_ie_fallback:false,ie_fallback_version:9,ie_fallback_btn_text:"loading\u2026",ie_fallback_btn_replacestyle:"replace",debugmode:false},constants:{isIEFallback:false},init:function(a){var b;
if(a)for(b in a)faSpinner.defaults[b]=a[b];return this},onload:function(){faSpinner.checkDependencies();faSpinner.setIEFallback();faSpinner.setButtonFunctions();faSpinner.defaults.debugmode&&faSpinner.log("faSpinner loaded")},setIEFallback:function(){if(faSpinner.defaults.use_ie_fallback&&faSpinner.getIEVersion()<=faSpinner.defaults.ie_fallback_version){faSpinner.constants.isIEFallback=true;faSpinner.defaults.btn_text=faSpinner.defaults.ie_fallback_btn_text;faSpinner.defaults.btn_replacestyle=faSpinner.defaults.ie_fallback_btn_replacestyle}},
setButtonFunctions:function(){var a=faSpinner.defaults.ajax_listener?faSpinner.defaults.btn_selector:[];$(faSpinner.defaults.ajax_listener?document:faSpinner.defaults.btn_selector).on("click",a,function(){var b=$(this),d=true,j=faSpinner.defaults.delay,e=faSpinner.defaults.btn_text,h=faSpinner.defaults.btn_replacestyle;if(faSpinner.defaults.use_attribute_definition){var c=b.data("faspinner-enabled");if(typeof c!="undefined"&&!c)d=false;if(d){c=b.data("faspinner-delay");if(typeof c!="undefined"&&$.isNumeric(c))j=
c;c=b.data("faspinner-btn_text");if(typeof c!="undefined")e=c;c=b.data("faspinner-btn_replacestyle");if(typeof c!="undefined"&&faSpinner.isValidReplaceStyle(c))h=c;var g=b.data("faspinner-ie_fallback_btn_text");if(typeof c!="undefined"&&faSpinner.getIEVersion()<=faSpinner.defaults.ie_fallback_version)e=g;g=b.data("faspinner-ie_fallback_btn_replacestyle");if(typeof c!="undefined"&&faSpinner.isValidReplaceStyle(g)&&faSpinner.getIEVersion()<=faSpinner.defaults.ie_fallback_version)h=g}}if(d){var i="sp-"+
(new Date).getTime().toString(36);d=$(this).text();var f;switch(h){case "prepend":f=e.concat(d);break;case "append":f=d.concat(e);break;default:f=e}faSpinner.defaults.debugmode&&faSpinner.log(i,d,f);b.attr("data-disableid",i).attr("label",d);window.setTimeout(function(){faSpinner.setSpinner(i,f)},j)}})},isValidReplaceStyle:function(a){return $.inArray(a,["prepend","append","replace"])},setSpinner:function(a,b){if($('[data-disableid="'+a+'"]').attr("disabled")){$('[data-disableid="'+a+'"]').html(b);
window.setTimeout(function(){faSpinner.checkDisabledButton(a)},faSpinner.defaults.timeout)}},checkDisabledButton:function(a){if($('[data-disableid="'+a+'"]').attr("disabled"))window.setTimeout(function(){faSpinner.checkDisabledButton(a)},faSpinner.defaults.timeout);else{var b=$('[data-disableid="'+a+'"]');b.html(b.attr("label"))}},checkDependencies:function(){if(faSpinner.defaults.fontawesome_required&&!faSpinner.isFfontAwesomePresent()&&faSpinner.getIEVersion()>9){faSpinner.loadFontAwesome();faSpinner.defaults.debugmode&&
faSpinner.log("faSpinner not loaded, but required")}else faSpinner.defaults.debugmode&&faSpinner.log("faSpinner loaded, or not required")},isFfontAwesomePresent:function(){return $("link[href*='font-awesome']").length>0?true:false},loadFontAwesome:function(){$('<link href="'+faSpinner.defaults.fontawesome_url+'" rel="stylesheet" mediatype="screen">').appendTo("head")},getIEVersion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",
b)));else if(navigator.userAgent.match(/Trident.*rv\:11\./))return 11;return 99999},log:function(a){window.console&&window.console.log(a)}};
