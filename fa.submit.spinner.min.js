/*
 * Copyright (C) 2023 backslash - artists of new media (info@backslash.ch)
 * 
 * This work is licensed under the Creative Commons
 * Attribution 3.0 Unported License. To view a copy
 * of this license, visit
 * http://creativecommons.org/licenses/by/3.0/.
 *  
 * When using this software you use it at your own risk. We hold
 * no responsibility for any damage caused by using this plugin
 * or the documentation provided.
 *
 * Version 1.0.4
 * File generated by shrinker.ch - DateTime: 2023-12-20, 12:48:11
*/
var faSpinner={defaults:{fontawesome_required:!0,fontawesome_url:"https://ext.cdn-backslash.ch/lib/font-awesome/4.7/css/font-awesome.min.css",btn_text:'<i class="fa fa-spinner fa-pulse" aria-hidden="true"></i> ',btn_replacestyle:"prepend",btn_selector:"button[type=submit]",delay:400,timeout:100,ajax_listener:!1,use_attribute_definition:!1,debugmode:!1},init:function(b){var a;if(b)for(a in b)faSpinner.defaults[a]=b[a];return this},onload:function(){faSpinner.checkDependencies();faSpinner.setButtonFunctions();
faSpinner.defaults.debugmode&&faSpinner.log("faSpinner loaded")},setButtonFunctions:function(){const b=a=>{var c=!0,h=faSpinner.defaults.delay,e=faSpinner.defaults.btn_text,k=faSpinner.defaults.btn_replacestyle;if(faSpinner.defaults.use_attribute_definition){var d=a.dataset.faspinnerEnabled;"undefined"==typeof d||d||(c=!1);c&&(d=a.dataset.faspinnerDelay,"undefined"==typeof d||isNaN(d)||(h=d),d=a.dataset.faspinnerBtnText,"undefined"!=typeof d&&(e=d),d=a.dataset.faspinnerBtnReplacestyle,"undefined"!=
typeof d&&faSpinner.isValidReplaceStyle(d)&&(k=d))}if(c){var g="sp-"+(new Date).getTime().toString(36);c=a.textContent;switch(k){case "prepend":var f=e.concat(c);break;case "append":f=c.concat(e);break;default:f=e}faSpinner.defaults.debugmode&&faSpinner.log(g,c,f);a.dataset.disableid=g;a.setAttribute("label",c);window.setTimeout(function(){faSpinner.setSpinner(g,f)},h)}};faSpinner.defaults.ajax_listener?document.addEventListener("click",a=>{a.target.matches(faSpinner.defaults.btn_selector)&&b(a.target)},
!1):document.querySelectorAll(faSpinner.defaults.btn_selector).forEach(a=>a.addEventListener("click",c=>b(c.target),!1))},isValidReplaceStyle:function(b){return["prepend","append","replace"].includes(b)},setSpinner:function(b,a){const c=document.querySelector(`[data-disableid="${b}"]`);c&&c.disabled&&(c.innerHTML=a,window.setTimeout(()=>{this.checkDisabledButton(b)},faSpinner.defaults.timeout))},checkDisabledButton:function(b){const a=document.querySelector(`[data-disableid="${b}"]`);a&&!a.disabled?
a.innerHTML=a.getAttribute("label"):window.setTimeout(()=>{this.checkDisabledButton(b)},faSpinner.defaults.timeout)},checkDependencies:function(){faSpinner.defaults.fontawesome_required&&!faSpinner.isFfontAwesomePresent()?(faSpinner.loadFontAwesome(),faSpinner.defaults.debugmode&&faSpinner.log("faSpinner not loaded, but required")):faSpinner.defaults.debugmode&&faSpinner.log("faSpinner loaded, or not required")},isFfontAwesomePresent:function(){return 0<document.querySelectorAll('link[href*="font-awesome"]').length?
!0:!1},loadFontAwesome:function(){const b=document.createElement("link");b.href=faSpinner.defaults.fontawesome_url;b.rel="stylesheet";b.media="screen";document.head.appendChild(b)},log:function(b){window.console&&window.console.log(b)}};